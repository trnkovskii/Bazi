1. 
CREATE TRIGGER TR_SAVETALK
AFTER DELETE ON CUSTOMER
WHEN NEW.id IS NOT NULL
BEGIN
    UPDATE TALK
    SET SSN_CUSTOMER = OLD.SSN_CUSTOMER
    WHERE ID = OLD.ID
END;


2.

INSERT INTO AGENT_SELLER(SSN, TOTALNUMBEROFCALLS)
VALUES (666666666, 2), (123456789, 3), (101010101, 2)


CREATE TRIGGER TR_NUMBERTALKS
AFTER INSERT ON TALK
FOR EACH ROW
WHEN NEW.SSN_SELLER IS NOT NULL
BEGIN
    UPDATE AGENT_SELLER
    SET TOTALNUMBEROFCALLS = TOTALNUMBEROFCALLS+1
    WHERE SSN = SSN
END;

3.
INSERT INTO STORE(ID, NAME, ADDRES, STOCKQUANTITY)
VALUES (1, 'NEPTUN', 'ILINDENSKA 1, SKOPJE', 2)


INSERT INTO STORE(ID, NAME, ADDRES, STOCKQUANTITY)
VALUES (1, 'SETEC', 'PARTIZANSKA 2, BITOLA', 15)


INSERT INTO STORE(ID, NAME, ADDRES, STOCKQUANTITY)
VALUES (1, 'ANHOCH', 'MARSHAL TITO 5, STRUGA', 30)


CREATE TRIGGER TR_QUANTITY
AFTER UPDATE OF STOCKQUANTITY ON STORE
FOR EACH ROW
WHEN NEW.STOCKQUANTITY IS NOT NULL
BEGIN
    UPDATE STORE
    SET STOCKQUANTITY = STOCKQUANTITY - OLD.QUANTITY + NEW.QUNTITY
END;


CREATE TRIGGER TR_PRODUCT
AFTER UPDATE OF STOCK
FOR EACH ROW
WHEN NEW.ID IS NOT NULL
BEGIN
    UPDATE STORE
    SET STOCKQUANTITY = STOCKQUANTITY  + NEW.STOCKQUANTITY
    WHERE ID = NEW.ID
END;


CREATE TRIGGER TR_PRODUCT2
AFTER DELETE ON STOCK
FOR EACH ROW
WHEN NEW.ID IS NOT NULL
BEGIN
    UPDATE STORE
    SET STOCKQUANTITY = STOCKQUANTITY - OLD.STOCKQUANTITY
    WHERE ID = NEW.ID
END;

4.
CREATE TRIGGER TR1
AFTER INSERT ON STOCK
FOR EACH ROW
WHEN ...
BEGIN
    UPDATE STORE
    SET TOTALGOODSPRICE = TOTALGOODSPRICE + NEW.COUNT * P.PRICE
    FROM PRODUCT P
    WHERE ID = NEW.STORE_ID AND P.CODE = NEW.PRODUCT_CODE
END;